# Meeta + Jitsi Meet - Environment Configuration
# Copy this file to .env and customize the values

################################################################################
# Basic Jitsi Configuration
################################################################################

# Directory where all Jitsi configuration will be stored
CONFIG=./jitsi-config

# Jitsi image version (stable, unstable, or specific version)
JITSI_IMAGE_VERSION=stable

# Restart policy for containers
RESTART_POLICY=unless-stopped

# Exposed HTTP port (will redirect to HTTPS port)
HTTP_PORT=8000

# Exposed HTTPS port
HTTPS_PORT=8443

# System time zone
TZ=UTC

# Public URL for the web service (REQUIRED - uncomment and set your domain)
#PUBLIC_URL=https://meet.example.com:8443

# XMPP server configuration
XMPP_SERVER=xmpp.meet.jitsi
XMPP_DOMAIN=meet.jitsi
XMPP_AUTH_DOMAIN=auth.meet.jitsi
XMPP_GUEST_DOMAIN=guest.meet.jitsi
XMPP_MUC_DOMAIN=muc.meet.jitsi
XMPP_INTERNAL_MUC_DOMAIN=internal-muc.meet.jitsi
XMPP_HIDDEN_DOMAIN=recorder.meet.jitsi
XMPP_RECORDER_DOMAIN=recorder.meet.jitsi
XMPP_PORT=5222
XMPP_BOSH_URL_BASE=http://prosody:5280

# Prosody settings
PROSODY_HTTP_PORT=5280
PROSODY_S2S_PORT=5269

################################################################################
# JVB (Jitsi Videobridge) Configuration
################################################################################

# Media port for video bridge
JVB_PORT=10000

# Colibri REST API port
JVB_COLIBRI_PORT=8080

# JVB authentication
JVB_AUTH_USER=jvb
JVB_AUTH_PASSWORD=IGxeEW6FrpJA4fSstTdMNywBhjQZzLub

# JVB MUC (Multi-User Chat) configuration
JVB_BREWERY_MUC=jvbbrewery

# STUN servers (comma-separated list)
#JVB_STUN_SERVERS=stun.l.google.com:19302,stun1.l.google.com:19302

# Advertise IPs (for NAT/LAN environments)
#JVB_ADVERTISE_IPS=192.168.1.100,your.public.ip.address

# Enable WebSocket for JVB
ENABLE_COLIBRI_WEBSOCKET=1

# Memory limits for JVB
VIDEOBRIDGE_MAX_MEMORY=3072m

################################################################################
# Jicofo (Focus) Configuration
################################################################################

# Jicofo REST API port
JICOFO_REST_PORT=8888

# Jicofo authentication
JICOFO_AUTH_PASSWORD=NKmVG2w41nlkOMspiP6vXjE0uyCh5bcg
JICOFO_COMPONENT_SECRET=0QnsGj2ogb4KU3YimBcLevE8RkNuPxa7

# Memory limits for Jicofo
JICOFO_MAX_MEMORY=3072m

################################################################################
# Authentication & Security
################################################################################

# Authentication type: internal, jwt, ldap, or none (guest access)
#ENABLE_AUTH=1
#AUTH_TYPE=internal

# Enable guest access (users can join without authentication)
ENABLE_GUESTS=1

# JWT authentication (if AUTH_TYPE=jwt)
#JWT_APP_ID=my_jitsi_app_id
#JWT_APP_SECRET=my_jitsi_app_secret
#JWT_AUTH_TYPE=token

# LDAP authentication (if AUTH_TYPE=ldap)
#LDAP_URL=ldap://ldap.domain.com
#LDAP_BASE=DC=example,DC=domain,DC=com
#LDAP_BINDDN=CN=binduser,OU=users,DC=example,DC=domain,DC=com
#LDAP_BINDPW=LdapUserPassw0rd

################################################################################
# Feature Flags
################################################################################

# Enable/Disable features
ENABLE_LOBBY=1
ENABLE_PREJOIN_PAGE=1
ENABLE_WELCOME_PAGE=1
ENABLE_CLOSE_PAGE=1
ENABLE_RECORDING=0
ENABLE_TRANSCRIPTIONS=0
ENABLE_LIVESTREAMING=0
ENABLE_BREAKOUT_ROOMS=1
ENABLE_CALENDAR=0
ENABLE_GUESTS=1

# P2P (Peer-to-Peer) mode for 1-to-1 calls
ENABLE_P2P=1

# Simulcast and adaptive mode
ENABLE_SIMULCAST=1
ENABLE_ADAPTIVE_MODE=1

# Audio/Video settings
START_WITH_AUDIO_MUTED=0
START_WITH_VIDEO_MUTED=0
DISABLE_AUDIO_LEVELS=0

# SCTP data channel
ENABLE_SCTP=1

# Enable OPUS RED for better audio quality
ENABLE_OPUS_RED=1

# Enable noise suppression and automatic gain control
ENABLE_AUDIO_PROCESSING=1
ENABLE_AUTOMATIC_GAIN_CONTROL=1
ENABLE_NO_AUDIO_DETECTION=1
ENABLE_NOISY_MIC_DETECTION=1

################################################################################
# Recording & Streaming (requires Jibri - not included in basic setup)
################################################################################

#JIBRI_RECORDER_USER=recorder
JIBRI_RECORDER_PASSWORD=wFBEALrsND01mucJGqoYXaMKlfC2nvpV
#JIBRI_XMPP_USER=jibri
JIBRI_XMPP_PASSWORD=Qm0WJc1yA3nM7fiZsSHCUP95lwIvkqVa
#JIBRI_BREWERY_MUC=jibribrewery
#JIBRI_SIP_BREWERY_MUC=jibrisipbrewery

################################################################################
# Transcription (requires Jigasi - not included in basic setup)
################################################################################

#JIGASI_XMPP_USER=jigasi
JIGASI_XMPP_PASSWORD=rhY78AlyOn4LHIZ2efdWU0pGaX5QbMmx
#JIGASI_BREWERY_MUC=jigasibrewery
#JIGASI_TRANSCRIBER_USER=transcriber
JIGASI_TRANSCRIBER_PASSWORD=0RhnmP6gZplWHyJzN85bifk4AQqCGIB9

################################################################################
# TURN/STUN Server Configuration
################################################################################

# External TURN server (optional - for better NAT traversal)
#TURN_HOST=turn.example.com
#TURN_PORT=443
#TURN_USERNAME=username
#TURN_PASSWORD=password
#TURNS_HOST=turn.example.com
#TURNS_PORT=5349
#TURN_TRANSPORT=tcp

# Public STUN servers (default)
STUN_HOST=meet-jit-si-turnrelay.jitsi.net
STUN_PORT=443

################################################################################
# Advanced Settings
################################################################################

# Resolution settings
#RESOLUTION=720
#RESOLUTION_MIN=180
#RESOLUTION_WIDTH=1280
#RESOLUTION_WIDTH_MIN=320

# Video quality bitrates (kbps)
#VIDEOQUALITY_BITRATE_H264_LOW=200
#VIDEOQUALITY_BITRATE_H264_STANDARD=500
#VIDEOQUALITY_BITRATE_H264_HIGH=1500

# Default language
DEFAULT_LANGUAGE=en

# Toolbar buttons (comma-separated)
#TOOLBAR_BUTTONS=camera,chat,closedcaptions,desktop,download,embedmeeting,etherpad,feedback,filmstrip,fullscreen,hangup,help,highlight,invite,linktosalesforce,livestreaming,microphone,noisesuppression,participants-pane,profile,raisehand,recording,security,select-background,settings,shareaudio,sharedvideo,shortcuts,stats,tileview,toggle-camera,videoquality,whiteboard

# Disable specific features
#DISABLE_POLLS=0
#DISABLE_REACTIONS=0
#DISABLE_PRIVATE_CHAT=0
#DISABLE_REMOTE_VIDEO_MENU=0

# Nginx settings
#NGINX_WORKER_PROCESSES=1
#NGINX_WORKER_CONNECTIONS=1024

################################################################################
# Let's Encrypt SSL (for production)
################################################################################

#ENABLE_LETSENCRYPT=1
#LETSENCRYPT_DOMAIN=meet.example.com
#LETSENCRYPT_EMAIL=admin@example.com
#LETSENCRYPT_USE_STAGING=0

################################################################################
# Analytics & Monitoring
################################################################################

#GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X
#MATOMO_ENDPOINT=https://analytics.example.com
#MATOMO_SITE_ID=1

################################################################################
# PostgreSQL & Redis (for Meeta app)
################################################################################

# PostgreSQL configuration
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=meeta
POSTGRES_PORT=5431

# Redis configuration
REDIS_PORT=6380

################################################################################
# Development Settings
################################################################################

# Disable HTTPS for local development
DISABLE_HTTPS=1

# Enable HTTP redirect to HTTPS (set to 0 for local dev)
ENABLE_HTTP_REDIRECT=0

# Docker host address (for local development)
#DOCKER_HOST_ADDRESS=192.168.1.100
